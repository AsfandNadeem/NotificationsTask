!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/add/observable/interval"),require("@angular/common")):"function"==typeof define&&define.amd?define("notify",["exports","@angular/core","rxjs","rxjs/add/observable/interval","@angular/common"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).notify={},e.ng.core,e.rxjs,e.rxjs["add/observable/interval"],e.ng.common)}(this,(function(e,t,n,i,o){"use strict";var r=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();r.ɵfac=function(e){return new(e||r)},r.ɵcmp=t.ɵɵdefineComponent({type:r,selectors:[["lib-notify-container"]],ngContentSelectors:["*"],decls:1,vars:0,template:function(e,n){1&e&&(t.ɵɵprojectionDef(),t.ɵɵprojection(0))},styles:[""]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(r,[{type:t.Component,args:[{selector:"lib-notify-container",templateUrl:"./notify-container.component.html",styleUrls:["./notify-container.component.css"]}]}],(function(){return[]}),null);var s=["progressDiv"];function a(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",9),t.ɵɵelement(1,"div",10,11),t.ɵɵelementEnd()),2&e){var i=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵstyleProp("width",i.setWidth,"%")}}var c=function(){function e(e,n){this.NotifyService=e,this.renderer=n,this.type="",this.progressrequired=!1,this.progressTime=0,this.actualTime=0,this.destroy=new t.EventEmitter,this.setWidth=0}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this.progressrequired&&(this.setWidth=this.actualTime/this.progressTime*100,this.mySubscription=n.interval(100).subscribe((function(t){e.getProgress()})))},e.prototype.getBackground=function(){return"warning"===this.type?"darkorange":"error"==this.type?"red":"blue"},e.prototype.onClose=function(){this.destroy.emit()},e.prototype.getProgress=function(){this.actualTime>0?(this.actualTime=this.actualTime-100,this.setWidth=this.actualTime/this.progressTime*100):this.mySubscription.unsubscribe()},e}();c.ɵfac=function(e){return new(e||c)(t.ɵɵdirectiveInject(d),t.ɵɵdirectiveInject(t.Renderer2))},c.ɵcmp=t.ɵɵdefineComponent({type:c,selectors:[["lib-notify"]],viewQuery:function(e,n){if(1&e&&t.ɵɵviewQuery(s,1),2&e){var i;t.ɵɵqueryRefresh(i=t.ɵɵloadQuery())&&(n.divCurtain=i.first)}},inputs:{header:"header",message:"message",type:"type",progressrequired:"progressrequired",progressTime:"progressTime",actualTime:"actualTime"},outputs:{destroy:"destroy"},decls:13,vars:5,consts:[[1,"card","container","my-4","stack-top"],[1,"card-header","container-fluid"],[1,"row"],[1,"col-10"],[1,"col-2"],["type","button",3,"click"],[1,"card-body",2,"text-align","center"],[1,"card-text"],["class","progress",4,"ngIf"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","active"],["progressDiv",""]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"div",3),t.ɵɵelementStart(4,"h3"),t.ɵɵtext(5),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",4),t.ɵɵelementStart(7,"a",5),t.ɵɵlistener("click",(function(){return n.onClose()})),t.ɵɵtext(8,"X "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"div",6),t.ɵɵelementStart(10,"p",7),t.ɵɵtext(11),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵtemplate(12,a,3,2,"div",8),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵstyleProp("background-color",n.getBackground()),t.ɵɵadvance(4),t.ɵɵtextInterpolate(n.header),t.ɵɵadvance(6),t.ɵɵtextInterpolate(n.message),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.progressrequired))},directives:[o.NgIf],styles:[".stack-top[_ngcontent-%COMP%]{padding:0;width:20%;box-shadow:0 10px 19px 10px rgba(0,0,0,.04);color:#000;display:flex;transform:translateY(calc(100% - 900px));z-index:1;margin-right:1%}@media (max-width:1480px){.stack-top[_ngcontent-%COMP%]{transform:translateY(calc(100% - 600px))}}"]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(c,[{type:t.Component,args:[{selector:"lib-notify",templateUrl:"./notify.component.html",styleUrls:["./notify.component.css"]}]}],(function(){return[{type:d},{type:t.Renderer2}]}),{header:[{type:t.Input}],message:[{type:t.Input}],type:[{type:t.Input}],progressrequired:[{type:t.Input}],progressTime:[{type:t.Input}],actualTime:[{type:t.Input}],destroy:[{type:t.Output}],divCurtain:[{type:t.ViewChild,args:["progressDiv"]}]});var p=function(){function e(e,t,n){this.componentFactoryResolver=e,this.appRef=t,this.injector=n}return e.prototype.createComponentinDom=function(e){var t=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector);return this.appRef.attachView(t.hostView),t},e.prototype.getElement=function(e){return e.hostView.rootNodes[0]},e.prototype.addChildtoElement=function(e,t){void 0===t&&(t=document.body),t.appendChild(e)},e.prototype.destroyElement=function(e){this.appRef.detachView(e.hostView),e.destroy()},e}();p.ɵfac=function(e){return new(e||p)(t.ɵɵinject(t.ComponentFactoryResolver),t.ɵɵinject(t.ApplicationRef),t.ɵɵinject(t.Injector))},p.ɵprov=t.ɵɵdefineInjectable({token:p,factory:p.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(p,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:t.ComponentFactoryResolver},{type:t.ApplicationRef},{type:t.Injector}]}),null);var d=function(){function e(e,t){this.elementService=e,this.appRef=t,this.maxLimit=5,this.countNotifications=0,this.Queue=Array(),this.exists=!0,this._children=[],this.NotifyContainerRef=this.elementService.createComponentinDom(r),this.NotifyContainerElement=this.elementService.getElement(this.NotifyContainerRef),this.elementService.addChildtoElement(this.NotifyContainerElement)}return e.prototype.appendComponentToContainer=function(e,t,n){var i=this,o=this.elementService.createComponentinDom(c),r=this.elementService.getElement(o);o.instance.header=e,o.instance.message=t,o.instance.type=n;var s=o.instance.destroy.subscribe((function(){s.unsubscribe(),i.destroy(o)}));this.elementService.addChildtoElement(r,this.NotifyContainerElement),this._children.push(o),this.countNotifications++,"info"==n&&(this.exists=!0,o.instance.progressrequired=!0,o.instance.progressTime=1e4,o.instance.actualTime=1e4,setTimeout((function(){i.exists&&i.destroy(o)}),10500))},e.prototype.open=function(e,t,n){this.countNotifications<this.maxLimit?this.appendComponentToContainer(e,t,n):this.Queue.push({header:e,message:t,type:n})},e.prototype.destroy=function(e){this.elementService.destroyElement(e),this._children.splice(this._children.indexOf(e),1),this.exists&&(this.exists=!1),this.countNotifications>0&&(this.countNotifications--,this.Queue.length>=1&&(this.appendComponentToContainer(this.Queue[0].header,this.Queue[0].message,this.Queue[0].type),this.Queue.shift()))},e.prototype.destroyAll=function(){this._children.forEach((function(e){return e.destroy()})),this._children.splice(0,this._children.length),this.countNotifications=0},e}();d.ɵfac=function(e){return new(e||d)(t.ɵɵinject(p),t.ɵɵinject(t.ApplicationRef))},d.ɵprov=t.ɵɵdefineInjectable({token:d,factory:d.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(d,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:p},{type:t.ApplicationRef}]}),null);var l=function(){};l.ɵfac=function(e){return new(e||l)},l.ɵmod=t.ɵɵdefineNgModule({type:l}),l.ɵinj=t.ɵɵdefineInjector({imports:[[o.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(l,{declarations:[c,r],imports:[o.CommonModule],exports:[c]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(l,[{type:t.NgModule,args:[{declarations:[c,r],imports:[o.CommonModule],exports:[c]}]}],null,null),e.NotifyComponent=c,e.NotifyModule=l,e.NotifyService=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=notify.umd.min.js.map