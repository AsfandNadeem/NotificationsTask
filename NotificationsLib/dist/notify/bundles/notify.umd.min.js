!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/add/observable/interval"),require("@angular/common")):"function"==typeof define&&define.amd?define("notify",["exports","@angular/core","rxjs","rxjs/add/observable/interval","@angular/common"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).notify={},e.ng.core,e.rxjs,e.rxjs["add/observable/interval"],e.ng.common)}(this,(function(e,t,n,o,i){"use strict";var r=new t.InjectionToken("libconfig"),s=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();s.ɵfac=function(e){return new(e||s)},s.ɵcmp=t.ɵɵdefineComponent({type:s,selectors:[["lib-notify-container"]],ngContentSelectors:["*"],decls:1,vars:0,template:function(e,n){1&e&&(t.ɵɵprojectionDef(),t.ɵɵprojection(0))},styles:["[_nghost-%COMP%]{position:absolute;margin-top:1%;right:2%;width:16%}"]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(s,[{type:t.Component,args:[{selector:"lib-notify-container",templateUrl:"./notify-container.component.html",styleUrls:["./notify-container.component.css"]}]}],(function(){return[]}),null);var a=function(e,t){return{"bg-warning":e,"bg-danger":t}};function c(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",9),t.ɵɵelement(1,"div",10,11),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵstyleProp("width",o.setWidth,"%"),t.ɵɵproperty("ngClass",t.ɵɵpureFunction2(3,a,"warning"===o.type,"error"===o.type))}}var p=function(){function e(e){this.NotifyService=e,this.type="",this.progressrequired=!1,this.progressTime=0,this.actualTime=0,this.destroy=new t.EventEmitter,this.setWidth=0}return e.prototype.ngOnInit=function(){var e=this;this.progressrequired&&(this.myVar=setTimeout((function(){e.onClose()}),this.progressTime+500))},e.prototype.ngAfterContentInit=function(){var e=this;this.progressrequired&&(this.setWidthMethod(),this.mySubscription=n.interval(100).subscribe((function(t){e.setProgress()})))},e.prototype.onClose=function(){this.progressrequired&&(this.mySubscription.unsubscribe(),clearTimeout(this.myVar)),this.destroy.emit()},e.prototype.setProgress=function(){this.actualTime>0?(this.actualTime=this.actualTime-this.progressTime/100,this.setWidthMethod()):this.mySubscription.unsubscribe()},e.prototype.setWidthMethod=function(){this.setWidth=this.actualTime/this.progressTime*100},e}();p.ɵfac=function(e){return new(e||p)(t.ɵɵdirectiveInject(u))},p.ɵcmp=t.ɵɵdefineComponent({type:p,selectors:[["lib-notify"]],inputs:{header:"header",message:"message",type:"type",progressrequired:"progressrequired",progressTime:"progressTime",actualTime:"actualTime"},outputs:{destroy:"destroy"},decls:13,vars:4,consts:[[1,"card","container","my-4","stack-top"],[1,"card-header","container-fluid",3,"ngClass"],[1,"row"],[1,"col-10"],[1,"col-2"],["type","button",3,"click"],[1,"card-body"],[1,"card-text"],["class","progress",4,"ngIf"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","active",3,"ngClass"],["progressDiv",""]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"div",3),t.ɵɵelementStart(4,"h3"),t.ɵɵtext(5),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",4),t.ɵɵelementStart(7,"a",5),t.ɵɵlistener("click",(function(){return n.onClose()})),t.ɵɵtext(8,"X "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"div",6),t.ɵɵelementStart(10,"p",7),t.ɵɵtext(11),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵtemplate(12,c,3,6,"div",8),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("ngClass",n.type),t.ɵɵadvance(4),t.ɵɵtextInterpolate(n.header),t.ɵɵadvance(6),t.ɵɵtextInterpolate(n.message),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.progressrequired))},directives:[i.NgClass,i.NgIf],styles:[".stack-top[_ngcontent-%COMP%]{padding:0;border:none;box-shadow:0 10px 19px 10px rgba(0,0,0,.04);color:#000;display:flex;z-index:1}.info[_ngcontent-%COMP%]{background-color:#00f}.warning[_ngcontent-%COMP%]{background-color:#ff8c00}.error[_ngcontent-%COMP%]{background-color:red}.card-body[_ngcontent-%COMP%]{text-align:center}"]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(p,[{type:t.Component,args:[{selector:"lib-notify",templateUrl:"./notify.component.html",styleUrls:["./notify.component.css"]}]}],(function(){return[{type:u}]}),{header:[{type:t.Input}],message:[{type:t.Input}],type:[{type:t.Input}],progressrequired:[{type:t.Input}],progressTime:[{type:t.Input}],actualTime:[{type:t.Input}],destroy:[{type:t.Output}]});var d=function(){function e(e,t,n){this.componentFactoryResolver=e,this.appRef=t,this.injector=n}return e.prototype.createComponentinDom=function(e){var t=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector);return this.appRef.attachView(t.hostView),t},e.prototype.getElement=function(e){return e.hostView.rootNodes[0]},e.prototype.addChildtoElement=function(e,t){void 0===t&&(t=document.body),t.appendChild(e)},e.prototype.destroyElement=function(e){this.appRef.detachView(e.hostView),e.destroy()},e}();d.ɵfac=function(e){return new(e||d)(t.ɵɵinject(t.ComponentFactoryResolver),t.ɵɵinject(t.ApplicationRef),t.ɵɵinject(t.Injector))},d.ɵprov=t.ɵɵdefineInjectable({token:d,factory:d.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(d,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:t.ComponentFactoryResolver},{type:t.ApplicationRef},{type:t.Injector}]}),null);var u=function(){function e(e,t,n){this.elementService=e,this.appRef=t,this.config=n,this.maxLimit=0,this.countNotifications=0,this.Queue=Array(),this._children=[],this.NotifyContainerRef=this.elementService.createComponentinDom(s),this.NotifyContainerElement=this.elementService.getElement(this.NotifyContainerRef),this.elementService.addChildtoElement(this.NotifyContainerElement),this.libConfig=this.config,this.maxLimit=this.libConfig.maxLimit}return e.prototype.appendComponentToContainer=function(e,t,n){var o=this.elementService.createComponentinDom(p),i=this.elementService.getElement(o);this.defineComponentValues(o,e,t,n),this.elementService.addChildtoElement(i,this.NotifyContainerElement),this._children.push(o.instance),this.countNotifications++},e.prototype.open=function(e,t,n){this.countNotifications<this.maxLimit?this.appendComponentToContainer(e,t,n):this.Queue.push({header:e,message:t,type:n})},e.prototype.destroy=function(e){this.elementService.destroyElement(e),this.countNotifications>0&&(this.countNotifications--,this.Queue.length>=1&&(this.appendComponentToContainer(this.Queue[0].header,this.Queue[0].message,this.Queue[0].type),this.Queue.shift()))},e.prototype.destroyAll=function(){this.Queue=[],this._children.forEach((function(e){e.onClose()})),this._children=[],this.countNotifications=0},e.prototype.insertTimeOut=function(e){e.instance.progressrequired=!0,e.instance.progressTime=this.libConfig.timeOut,e.instance.actualTime=this.libConfig.timeOut},e.prototype.defineComponentValues=function(e,t,n,o){var i=this;e.instance.header=t,e.instance.message=n,e.instance.type=o;var r=e.instance.destroy.subscribe((function(){r.unsubscribe(),i.destroy(e)}));this.libConfig.timeOutRequiredCategories.includes(o)&&this.insertTimeOut(e)},e}();u.ɵfac=function(e){return new(e||u)(t.ɵɵinject(d),t.ɵɵinject(t.ApplicationRef),t.ɵɵinject(r))},u.ɵprov=t.ɵɵdefineInjectable({token:u,factory:u.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(u,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:d},{type:t.ApplicationRef},{type:void 0,decorators:[{type:t.Inject,args:[r]}]}]}),null);var l=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:r,useValue:t}]}},e}();l.ɵfac=function(e){return new(e||l)},l.ɵmod=t.ɵɵdefineNgModule({type:l}),l.ɵinj=t.ɵɵdefineInjector({imports:[[i.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(l,{declarations:[p,s],imports:[i.CommonModule],exports:[p]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(l,[{type:t.NgModule,args:[{declarations:[p,s],imports:[i.CommonModule],exports:[p]}]}],null,null),e.NotifyComponent=p,e.NotifyModule=l,e.NotifyService=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=notify.umd.min.js.map