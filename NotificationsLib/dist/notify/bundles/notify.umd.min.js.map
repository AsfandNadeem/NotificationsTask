{"version":3,"sources":["../../../projects/notify/src/lib/notify-container/notify-container.component.ts","../../../projects/notify/src/lib/notify-container/notify-container.component.html","../../../projects/notify/src/lib/notify.component.ts","../../../projects/notify/src/lib/notify.component.html","../../../projects/notify/src/lib/elementAttachment.service.ts","../../../projects/notify/src/lib/notify.service.ts","../../../projects/notify/src/lib/notify.module.ts"],"names":["NotifyContainerComponent","prototype","ngOnInit","selectors","ngContentSelectors","decls","vars","template","rf","ctx","i0.ɵɵprojection","Component","selector","templateUrl","styleUrls","NotifyComponent","NotifyService","this","type","destroy","EventEmitter","getBackground","onClose","emit","i0","ɵɵdirectiveInject","inputs","header","message","outputs","consts","i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵlistener","i0.ɵɵadvance","i0.ɵɵstyleProp","i0.ɵɵtextInterpolate","Input","Output","ElementAttachmentService","componentFactoryResolver","appRef","injector","createComponentinDom","component","componentRef","resolveComponentFactory","create","attachView","hostView","getElement","rootNodes","addChildtoElement","child","parent","document","body","appendChild","destroyElement","detachView","ɵɵinject","ComponentFactoryResolver","ApplicationRef","Injector","factory","ɵfac","providedIn","Injectable","elementService","maxLimit","Queue","Array","NotifyContainerRef","NotifyContainerElement","appendComponentToContainer","_this","childComponentRef","childElement","instance","sub","subscribe","unsubscribe","setTimeout","open","category","push","length","shift","NotifyModule","CommonModule","declarations","imports","exports","NgModule"],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-notify-container',\n  templateUrl: './notify-container.component.html',\n  styleUrls: ['./notify-container.component.css']\n})\nexport class NotifyContainerComponent implements OnInit {\n\n  constructor() { }\n  \n\n  ngOnInit(): void {\n  }\n\n}\n","<ng-content id=\"parent\"></ng-content>","import { HostBinding, Input } from '@angular/core';\nimport { EventEmitter } from '@angular/core';\nimport { Output } from '@angular/core';\nimport { Component, OnInit } from '@angular/core';\nimport { NotifyService } from './notify.service';\n\n@Component({\n  selector: 'lib-notify',\n  templateUrl: './notify.component.html',\n  styleUrls: ['./notify.component.css'\n  ]\n})\nexport class NotifyComponent implements OnInit {\n  @Input() header: string;\n  @Input() message: string;\n  @Input() type = '';\n  @Output() destroy: EventEmitter<any> = new EventEmitter();\n\n  notifref: NotifyComponent;\n  // @HostBinding('class.redbackground') warning: boolean;\n  constructor(private NotifyService: NotifyService) {\n\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  // isWarning(): boolean {\n  //   if (this.type === 'warning') {\n  //     return true;\n  //   }\n  //   else {\n  //     return false;\n  //   }\n\n  // }\n\n  getBackground(): string {\n    if (this.type === 'warning') {\n      return 'orange';\n    }\n    else if (this.type == 'error') {\n      return 'red'\n    }\n    else {\n      return 'blue';\n    }\n  }\n\n  onClose(): void {\n    this.destroy.emit();\n  }\n}\n","<div class=\"card container  my-4 stack-top\">\n    <div class=\"card-header container-fluid\" [style.backgroundColor]=\"getBackground()\">\n        <div class=\"row\">\n            <div class=\"col\">\n                <h3>{{header}}</h3>\n            </div>\n            <div class=\"col\">\n                <a type=\"button\" (click)=\"onClose()\" >X\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"card-body\">\n        <p class=\"card-text\">{{message}}</p>\n    </div>\n</div>","import { EmbeddedViewRef } from '@angular/core';\nimport { ApplicationRef } from '@angular/core';\nimport { Injector } from '@angular/core';\nimport { ComponentRef } from '@angular/core';\nimport { ComponentFactoryResolver, Injectable } from '@angular/core'\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ElementAttachmentService {\n\n    constructor(\n        private componentFactoryResolver: ComponentFactoryResolver,\n        private appRef: ApplicationRef,\n        private injector: Injector) {\n\n    }\n    // 1. Create a Cotntainer component reference from the component \n    createComponentinDom(component: any): ComponentRef<any> {\n        const componentRef = this.componentFactoryResolver\n            .resolveComponentFactory(component)\n            .create(this.injector);\n\n        // 2. Attach component to the appRef so that it's inside the ng component tree\n        this.appRef.attachView(componentRef.hostView);\n        return componentRef;\n    }\n\n    // 3. Get DOM element from component\n    getElement(componentRef: ComponentRef<any>): HTMLElement {\n        return (componentRef.hostView as EmbeddedViewRef<any>)\n            .rootNodes[0] as HTMLElement;\n    }\n\n    // 4. Append DOM element to the body\n    addChildtoElement(child: HTMLElement, parent: HTMLElement = document.body) {\n        parent.appendChild(child);\n    }\n\n    //5 Destroy Element\n    destroyElement(componentRef: ComponentRef<any>) {\n        this.appRef.detachView(componentRef.hostView);\n        componentRef.destroy();\n    }\n\n}","import { ComponentRef } from '@angular/core';\nimport { ApplicationRef, ComponentFactoryResolver, EmbeddedViewRef, Injectable, Injector } from '@angular/core';\nimport { ElementAttachmentService } from './elementAttachment.service';\nimport { INotification } from './notification.interface';\nimport { NotifyContainerComponent } from './notify-container/notify-container.component';\nimport { NotifyComponent } from './notify.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotifyService {\n\n  maxLimit = 1;\n  Queue = Array<INotification>();\n\n  private NotifyContainerElement: HTMLElement;\n  private NotifyContainerRef: ComponentRef<NotifyContainerComponent>;\n  constructor(private elementService: ElementAttachmentService,\n    private appRef: ApplicationRef) {\n\n    this.NotifyContainerRef = this.elementService.createComponentinDom(NotifyContainerComponent);\n    this.NotifyContainerElement = this.elementService.getElement(this.NotifyContainerRef);\n    this.elementService.addChildtoElement(this.NotifyContainerElement);\n  }\n\n\n  private appendComponentToContainer(header: string, message: string, type: string) {\n    //Create Child Component\n    const childComponentRef = this.elementService.createComponentinDom(NotifyComponent);\n    //Get child Component\n    const childElement = this.elementService.getElement(childComponentRef);\n\n    childComponentRef.instance.header = header;\n\n    childComponentRef.instance.message = message;\n\n    childComponentRef.instance.type = type;\n\n\n\n    const sub = childComponentRef.instance.destroy.subscribe(() => {\n      sub.unsubscribe();\n      this.destroy(childComponentRef);\n    });\n    //Add child component to parent\n    this.elementService.addChildtoElement(childElement, this.NotifyContainerElement);\n\n\n    if (type == \"info\") {\n      setTimeout(() => {\n        if(childComponentRef)\n        {this.destroy(childComponentRef);}\n      }, 10000);\n    }\n  }\n\n  open(header, message, category) {\n    if (this.maxLimit <= 5) {\n      this.appendComponentToContainer(header, message + this.maxLimit, category);\n      this.maxLimit++;\n    }\n    else {\n      this.Queue.push({header:header,message:message, type:category});\n    }\n  }\n\n  destroy(childComponentRef: ComponentRef<any>) {\n    this.elementService.destroyElement(childComponentRef);\n    if (this.maxLimit > 0) {\n      this.maxLimit--;\n      if (this.Queue.length >= 1) {\n        this.appendComponentToContainer(this.Queue[0].header, this.Queue[0].message, this.Queue[0].type);\n        this.Queue.shift();\n      }\n    }\n  }\n\n\n\n\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NotifyComponent } from './notify.component';\nimport { NotifyContainerComponent } from './notify-container/notify-container.component';\n\n\n\n@NgModule({\n  declarations: [NotifyComponent, NotifyContainerComponent],\n  imports: [CommonModule\n  ],\n  exports: [NotifyComponent]\n})\nexport class NotifyModule { }\n"]}